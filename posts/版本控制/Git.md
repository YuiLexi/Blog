---
title: Git入门到精通
date: 2023-5-26 00:00:00
update: 2023-7-24 00:00:00
categories:
  - [版本控制, Git]
tags: [版本控制, Git, 分布式版本控制, GitHub, 团队协作]
description: Git是目前世界上最先进的分布式版本控制系统，本文将从Git的基本使用到高级应用进行详细介绍。、
image_path: 版本控制/Git/Git入门到精通/
---

# 一、认识 Git

## 1.1 版本控制

~~版本控制是一种记录文件内容变化，以便将来查阅特定版本修订情况的软件工具。版本控制系统（VCS）是一种管理源代码的软件工具，它可以追踪文件的每一次修改，以便随时恢复早期版本。~~

版本控制是一种管理和控制软件开发中版本变化的方法，通常用于跟踪代码修改和协作开发。版本控制系统（VCS）是一种通过记录和跟踪文件修改历史的软件工具，用于帮助开发人员在团队中协同工作，并保留先前的代码版本以防止代码丢失或错误。它们还可用于跟踪单个文件和整个项目中的更改，以及管理并发访问到项目文件的冲突。

### 1.1.1 为什么要使用版本控制？

如果我们在做项目的时候，可能会对项目文件不断进行修改，并且我们需要保留之前的版本文件。在没有**版本控制的系统**的时代，可以通过备份旧文件，来达到版本的控制，例如下面：

![手动版本控制](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/手动版本控制.png)

但是这样的方式，不仅占用更大的存储空间，并且极为不便。每一次保存版本时，也不知道修改的内容。

### 1.1.2 版本控制的作用

版本控制在软件开发和其他领域中广泛应用。它的主要作用是**帮助团队协作开发软件，并保证每个人对代码的修改都是可追溯的**。

以下是版本控制的几个主要作用：

1. **协作开发**：版本控制允许多个开发者一起在同一个代码库中对代码进行修改和提交，并且可以随时查看彼此的修改记录。
2. **追溯历史**：版本控制能够记录每一次代码修改并生成相应的历史记录，可以随时查看代码的修订历史，并恢复到任意历史版本。
3. **回退操作**：在修复 bug 或者发现问题版本时，可以快速回退到之前的某个历史版本。
4. **分支与合并**：版本控制允许用户创建分支，这使得用户可以在单独的分支上开发新特性，而不会影响主分支的稳定性。之后可以将分支合并到主分支中。
5. **备份与恢复**：版本控制在本地或远程存储中备份代码，并可以随时恢复到以前的版本，这保证了代码在各个阶段的可靠性。

总之，版本控制的作用非常重要。它可以提高开发团队的效率和协作能力，并保证了代码的质量和可追溯性。

### 1.1.3、常用的版本控制器

目前使用最广泛的是**Git**与**SVN**。

**它们主要的区别**:

- SVN是**集中式**版本控制系统，**版本库**是集中放在中央服务器的。工作时，首先要从中央服务器得到最新的版本，然后编辑项目文件，之后，需要把编辑完成的项目，推送到中央服务器。集中式版本控制系统是必须联网才能工作，如果在局域网，带宽够大，速度够快，如果在互联网下，如果网速慢的话，就会影响工作速度，并且如果中央服务器出现问题，所有的用户均不能正常工作。

	![SVN的结构图](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/SVN的结构图.png)

- Git是**分布式**版本控制系统，那么它就没有中央服务器的，每个人的电脑就是一个完整的版本库，这样，工作的时候就不需要联网了，因为版本都是在自己的电脑上。既然每个人的电脑都有一个完整的版本库，那多个人如何协作呢？比如说自己在电脑上改了文件A，其他人也在电脑上改了文件A，这时，你们两之间只需把各自的修改推送给对方，就可以互相看到对方的修改了。

  ![Git的结构图](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/Git的结构图.png)



## 1.2 Git 的历史

Linux 内核开源项目有着为数众多的参与者。在 1991-2002 年间，绝大多数的 Linux 维护工作都花在了提交补丁和保存归档的繁琐事务上。到 2002 年，整个项目组开始使用一个叫做 BitKeeper 的分布式版本控制系统，来维护和管理代码。在 Git 诞生之前，许多版本控制系统普遍存在的问题包括效率低下、容易丢失数据、难以管理分支等。特别是在 Linux 内核开发中，Linus Torvalds 对于 BitKeeper 这个专有的版本控制系统的使用遭遇了一些限制，这也促使他开始考虑自己开发一款全新的版本控制系统。

2005 年，一位 Linux 开发成员 Andrew（Samba 协议之父）写了一个可以连接 BitKeeper 仓库的外挂，因此 BitMover 公司（BitKeeper 持有者）认为他反编译了 BitKeeper。BitMover 决定中止 Linux 免费使用 BitKeeper 的授权。最终 Linux 团队与 BitMover 磋商无果，Torvalds 决定开发自己的版本管理系统。

Linus Torvalds 这位天才，仅仅用了**十天**时间，就诞生了目前**世界最先进**的版本控制系统—— Git 。

![Linux之父](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/Linux之父.png)

# 二、Git 的安装与配置

## 2.1 Git 安装

首先去到官网[Git - Downloads (git-scm.com)](https://git-scm.com/downloads)

![Git官网](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/Git官网.png)

选择对应系统的文件，进行安装（例如：以 Window 系统为例）

![Git的windows安装](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/Git的windows安装.png)

选择对应的安装程序，之后，会出现安装程序界面，一路向下就行。

![Git安装程序](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/Git安装程序.png)

安装成功后，就会出现下面的文件

![Git程序](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/Git程序.png)

**Git Bash**：Unix与Linux风格的命令行，使用最多，推荐使用

**Git CMD**：Windows风格的命令行

**Git GUI**：图形界面的Git，不建议初学者使用



## 2.2 Git 配置

1. **用户信息**（必须要配置）：配置个人的用户名称和电子邮件地址：

  ~~~bash
  git config --global user.name "galen"
  git config --global user.email 4981292+galen_2019@user.noreply.gitee.com
  ~~~

  ​	如果用了 **—global** 选项，那么更改的配置文件就是位于你用户主目录下的那个，路径为 `"C:/Users/<用户名>/.gitconfig"` ，以后你所有的项目都会默认使用这里配置的用户信息。

  ​	如果要在某个特定的项目中使用其他名字或者电邮，只要去掉 —global 选项重新配置即可，新的设定保存在当前项目的 .git/config 文件里。

  ​	这里的用户名以及邮箱，是为了记录修改文件的用户信息，并不是登录的账号，Git 不需要登陆账号。

2. **查看配置信息**：要检查已有的配置信息，可以使用 git config —list 命令：

	~~~bash
	git config --list
	~~~



# 三、 Git 理论

## 3.1、工作区域

基本概念：

- **工作区**：平时存放项目代码的地方。
- **暂存区(Stage/Index)：**暂存区，用于临时存放你的改动，事实上它只是一个文件，保存即将提交到文件列 表信息。
- **版本库：**又称本地仓库，**这个不算工作区**，而是 Git 的版本库，里面有你提交到所有版本的数据，一般是 `.git` 文件。
- **远程仓库**：托管代码的服务器。

![Git区域](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/Git区域.png)

## 3.2、工作流程

一般是这样的：

1. 新建仓库或者克隆远程仓库；
2. 在工作目录中添加、修改文件；
3. 将需要进行版本管理的文件放入暂存区域；
4. 将暂存区域的文件**提交**到git仓库。

因此，git管理的文件有三种状态：已修改（modified）,已暂存（staged）,已提交(committed)。



## 3.3 分支

在Git中，**分支**是指代码库中独立存在的一个代码版本。它可以将代码库的历史分割成不同的线路，每个分支上可以进行独立的开发工作。

分支在Git中有以下作用：

1. **并行开发**：使用分支可以让团队成员在独立的分支上并行地进行开发工作，而不会互相干扰。每个分支可以独立地修改、提交和推送代码，不会影响其他分支上的代码。
2. **版本管理**：通过创建分支，你可以在不影响主线（通常是主分支）的情况下，为特定功能、修复bug或实验性功能创建自己的代码版本。这样可以确保主线代码的稳定性，同时允许其他人在各自的分支上工作。
3. **特性开发与测试**：创建新分支后，你可以专注于特定功能的开发。这使得你可以在该分支上进行实验、编写和测试代码，而不会影响其他分支上的代码。一旦特性开发完成并经过测试，可以将其合并到主线或其他适当的分支中。
4. **故障排除与修复**：如果你在主线上发现了一个bug，你可以创建一个修复bug的分支，进行相关的修改和测试，然后将修复合并回主线。这样可以确保修复bug的过程不会干扰其他功能的开发。
5. **版本回退与分支合并**：分支还可以用于版本回退和合并操作。如果你在某个分支上的开发出现问题，可以简单地放弃该分支并切换回之前的分支或提交。同时，当你在一个分支上完成特性开发后，可以将其合并回主线或其他适当的分支，以保持代码库的整洁和有序。

总之，分支在Git中提供了一种有效的方式来组织、管理和并行开发代码，使得团队成员可以独立地工作，并将各自的工作成果整合到主线或其他分支中。

## 3.4 SSH

SSH代表Secure Shell，是一种网络协议和加密技术，用于在不安全的网络上安全地进行远程登录和数据传输。

具体来说，SSH提供了一种**通过加密通道进行安全通信的方式，以防止敏感数据在传输过程中被窃听或篡改**。它使用公钥加密和对称密钥加密的组合，确保数据的机密性和完整性。

SSH可以用于以下方面：

1. **远程登录**：通过SSH，用户可以从本地计算机安全地远程登录到远程服务器或其他计算机。这对于系统管理员和远程开发人员来说特别有用，他们可以通过SSH协议在远程计算机上执行命令和管理操作，而无需物理接触该计算机。
2. **远程文件传输**：SSH还提供了安全的文件传输功能。用户可以使用SCP（Secure Copy）或SFTP（SSH File Transfer Protocol）等工具，通过SSH协议在本地计算机和远程服务器之间传输文件。这种方式比传统的FTP更安全，因为数据在传输过程中进行了加密。
3. **安全通信隧道**：SSH可以创建安全的通信隧道，将其他协议（如HTTP、SMTP、数据库连接等）通过加密通道传输，以防止数据泄露或篡改。这对于通过不可信的网络连接访问敏感数据或服务的情况非常有用。

总结起来，SSH是一种安全的远程登录和文件传输协议，通过加密和认证机制保护敏感数据的安全性和完整性。它在许多领域中被广泛使用，特别是在远程管理和安全通信方面。



SSH KEY 生成步骤如下：

1. 检查一下用户名和邮箱是否配置

	~~~bash
	git config --global  --list
	~~~

2. 生成 SSH KEY

	~~~bash
	ssh-keygen -t rsa -c "<邮箱>"
	~~~

3. 进入文件夹 `C:/Users/<用户名>/.ssh` 可以看到

	- id_rsa文件是私钥，要保存好，放在本地，私钥可以生产公钥，反之不行。
	- id_rsa.pub文件是公钥，可以用于发送到其他服务器，或者git上

4. 用记事本之类的软件打开id_rsa.pub文件，并且复制全部内容

5. 进入 Github 找到 Settings，再找到 SSH keys，将复制的的内容放到 key立即可，Title随便起

# 四、Git 基本操作

![Git工作流程](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/Git工作流程.png)

![Git常用指令大全](http://imageshack.yuilexi.cn/版本控制/Git/Git入门到精通/Git常用指令大全.png)



# 说明

## 更新日志

{% folding 更新日志 %}

{% timeline 更新日志,orange %}

<!-- timeline 2023-5-26 -->

<!-- endtimeline -->

{% endtimeline %}

{% endfolding %}
